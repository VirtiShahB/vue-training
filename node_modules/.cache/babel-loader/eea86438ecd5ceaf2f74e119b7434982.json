{"remainingRequest":"/var/www/html/vue-training/node_modules/babel-loader/lib/index.js!/var/www/html/vue-training/node_modules/cache-loader/dist/cjs.js??ref--1-0!/var/www/html/vue-training/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/vue-training/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/vue-training/src/views/Login.vue","mtime":1644580183816},{"path":"/var/www/html/vue-training/node_modules/cache-loader/dist/cjs.js","mtime":1643081893877},{"path":"/var/www/html/vue-training/node_modules/babel-loader/lib/index.js","mtime":1643081894385},{"path":"/var/www/html/vue-training/node_modules/cache-loader/dist/cjs.js","mtime":1643081893877},{"path":"/var/www/html/vue-training/node_modules/vue-loader/lib/index.js","mtime":1643081894529}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDaGVja291dCcsCiAgcHJvcHM6IHt9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybWRhdGE6IHsKICAgICAgICBlbWFpbDogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnCiAgICAgIH0KICAgIH07CiAgfSwKCiAgbWV0aG9kczogewogICAgbG9naW4oZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7IC8vIGl0IHByZXZlbnQgZnJvbSBwYWdlIHJlbG9hZAoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciByZWdpc3RlclVzZXJzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3JlZ2lzdGVyX3VzZXJzJyk7CgogICAgICBpZiAocmVnaXN0ZXJVc2VycyAhPSB1bmRlZmluZWQgfHwgcmVnaXN0ZXJVc2VycyAhPSBudWxsKSB7CiAgICAgICAgcmVnaXN0ZXJVc2VycyA9IEpTT04ucGFyc2UocmVnaXN0ZXJVc2Vycyk7CiAgICAgICAgdmFyIHJlZ1VzZXIgPSBbXTsKICAgICAgICByZWdpc3RlclVzZXJzLm1hcChmdW5jdGlvbiAodmFsdWUsIGtleSkgewogICAgICAgICAgaWYgKF90aGlzLmZvcm1kYXRhLmVtYWlsID09IHZhbHVlLmVtYWlsKSB7CiAgICAgICAgICAgIHJlZ1VzZXIucHVzaCh2YWx1ZSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIGlmIChyZWdVc2VyLmxlbmd0aCA+IDApIHsKICAgICAgICAgIGlmICh0aGlzLmZvcm1kYXRhLnBhc3N3b3JkID09IHJlZ1VzZXJbMF0ucGFzc3dvcmQpIHsKICAgICAgICAgICAgdGhpcy4kcmVmcy5sb2dpbkZvcm0ucmVzZXQoKTsKICAgICAgICAgICAgYWxlcnQoJ1N1Y2Nlc3MhIFVzZXIgbG9nZ2VkIGluLicpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWxlcnQoJ1Bhc3N3b3JkIGRvIG5vdCBtYXRjaCB3aXRoIHVzZXIgaW4gb3VyIHJlY29yZHMuJyk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KCJXZSBkb2VzJ3QgZmluZCBhbnkgdXNlciB3aXRoIHRoaXMgZW1haWwgaW4gb3VyIHJlY29yZHMuIik7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGFsZXJ0KCJXZSBkb2VzJ3QgZmluZCBhbnkgdXNlciB3aXRoIHRoaXMgZW1haWwgaW4gb3VyIHJlY29yZHMuIik7CiAgICAgIH0KICAgIH0sCgogICAgYXN5bmMgbG9nSW5XaXRoRmFjZWJvb2soKSB7CiAgICAgIHdpbmRvdy5GQi5sb2dpbihyZXNwb25zZSA9PiB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmF1dGhSZXNwb25zZSkgewogICAgICAgICAgd2luZG93LkZCLmFwaSgiL21lIiwgewogICAgICAgICAgICBsb2NhbGU6ICJlbl9VUyIsCiAgICAgICAgICAgIGZpZWxkczogImlkLG5hbWUsIGVtYWlsIgogICAgICAgICAgfSwgcmVzcG9uc2UgPT4gewogICAgICAgICAgICBsZXQgdXNlcnMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJyZWdpc3Rlcl91c2VycyIpKTsKCiAgICAgICAgICAgIGlmICh1c2VycyAhPSBudWxsICYmIHVzZXJzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICBsZXQgZmluZFVzZXIgPSB1c2Vycy5maW5kSW5kZXgodXNlciA9PiB1c2VyLmVtYWlsID09IHJlc3BvbnNlLmVtYWlsKTsKCiAgICAgICAgICAgICAgaWYgKGZpbmRVc2VyID09IC0xKSB7CiAgICAgICAgICAgICAgICBhbGVydCgnRXJyb3IhIE5vIGFueSB1c2VyIGZvdW5kIHdpdGggdGhpcyBlbWFpbC4nKTsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdmFyIHNvY2lhbFVzZXIgPSB1c2Vycy5maW5kKHVzZXIgPT4gewogICAgICAgICAgICAgICAgICByZXR1cm4gdXNlci5lbWFpbCA9PT0gcmVzcG9uc2UuZW1haWw7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlTG9naW5Vc2VyKHNvY2lhbFVzZXIpOwogICAgICAgICAgICAgICAgdGhpcy5lcnJvcnMuZW1haWwgPSAiIjsKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogImhvbWUiCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgYWxlcnQoJ0Vycm9yISBObyBhbnkgdXNlciBmb3VuZCB3aXRoIHRoaXMgZW1haWwuJyk7CiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBsZXQgbmV3VXNlciA9IHsKICAgICAgICAgICAgICBpZDogdGhpcy4kdXVpZC52MSgpLAogICAgICAgICAgICAgIG5hbWU6IHJlc3BvbnNlLm5hbWUsCiAgICAgICAgICAgICAgZW1haWw6IHJlc3BvbnNlLmVtYWlsLAogICAgICAgICAgICAgIHBhc3N3b3JkOiByZXNwb25zZS5pZAogICAgICAgICAgICB9OwogICAgICAgICAgICB0aGlzLnJlZ2lzdGVyVXNlcihuZXdVc2VyKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydCgnRXJyb3IhIFVzZXIgY2FuY2VsbGVkIGxvZ2luIG9yIGRpZCBub3QgZnVsbHkgYXV0aG9yaXplLicpOwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIHNjb3BlOiAiZW1haWwiCiAgICAgIH0pOwogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAoKICAgIG9uU2lnbkluKHVzZXIpIHsKICAgICAgY29uc3QgcHJvZmlsZSA9IHVzZXIuZ2V0QmFzaWNQcm9maWxlKCk7CiAgICB9LAoKICAgIHZhbGlkYXRpb24oKSB7CiAgICAgIGxldCB1c2VycyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oInJlZ2lzdGVyX3VzZXJzIikpOwoKICAgICAgaWYgKHVzZXJzICE9IG51bGwgJiYgdXNlcnMubGVuZ3RoID4gMCkgewogICAgICAgIGxldCBmaW5kVXNlciA9IHVzZXJzLmZpbmRJbmRleCh1c2VyID0+IHVzZXIuZW1haWwgPT0gdGhpcy5lbWFpbCAmJiB0aGlzLnBhc3N3b3JkID09IHVzZXIucGFzc3dvcmQpOwoKICAgICAgICBpZiAoZmluZFVzZXIgPT0gLTEpIHsKICAgICAgICAgIGFsZXJ0KCdFcnJvciEgRW1haWwgb3IgcGFzc3dvcmQgaXMgaW52YWxpZC4nKTsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIHVzZXIgPSB1c2Vycy5maW5kKHVzZXIgPT4gewogICAgICAgICAgICByZXR1cm4gdXNlci5lbWFpbCA9PT0gdGhpcy5lbWFpbDsKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICB9CgogICAgICBhbGVydCgnRXJyb3IhIEVtYWlsIG9yIHBhc3N3b3JkIGlzIGludmFsaWQuJyk7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCgogICAgYXN5bmMgaW5pdEZhY2Vib29rKCkgewogICAgICB3aW5kb3cuZmJBc3luY0luaXQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgd2luZG93LkZCLmluaXQoewogICAgICAgICAgYXBwSWQ6ICI3Mjk3MTEyNDEzNDEzNDAiLAogICAgICAgICAgLy9Zb3Ugd2lsbCBuZWVkIHRvIGNoYW5nZSB0aGlzCiAgICAgICAgICBjb29raWU6IHRydWUsCiAgICAgICAgICAvLyBUaGlzIGlzIGltcG9ydGFudCwgaXQncyBub3QgZW5hYmxlZCBieSBkZWZhdWx0CiAgICAgICAgICB4ZmJtbDogdHJ1ZSwKICAgICAgICAgIC8vIHBhcnNlIFhGQk1MCiAgICAgICAgICBvYXV0aDogdHJ1ZQogICAgICAgIH0pOwogICAgICB9OwogICAgfSwKCiAgICBhc3luYyBsb2FkRmFjZWJvb2tTREsoZCwgcywgaWQpIHsKICAgICAgdmFyIGpzLAogICAgICAgICAgZmpzID0gZC5nZXRFbGVtZW50c0J5VGFnTmFtZShzKVswXTsKCiAgICAgIGlmIChkLmdldEVsZW1lbnRCeUlkKGlkKSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAganMgPSBkLmNyZWF0ZUVsZW1lbnQocyk7CiAgICAgIGpzLmlkID0gaWQ7CiAgICAgIGpzLnNyYyA9ICJodHRwczovL2Nvbm5lY3QuZmFjZWJvb2submV0L2VuX1VTL3Nkay5qcyI7CiAgICAgIGZqcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShqcywgZmpzKTsKICAgIH0sCgogICAgb25Hb29nbGVTaWduSW4oKSB7CiAgICAgIGNvbnN0IGdhcGkgPSB3aW5kb3cuZ2FwaTsKICAgICAgZ2FwaS5sb2FkKCJhdXRoMiIsICgpID0+IHsKICAgICAgICBnYXBpLmF1dGgyLmF1dGhvcml6ZSh7CiAgICAgICAgICBjbGllbnRfaWQ6ICI3MTU3MDkzNDAxNjYtZ2E2NDZnZWwyOHFkc2s4dXFja3QzNDlqZmwzaDZxbTEuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLAogICAgICAgICAgc2NvcGU6ICJlbWFpbCBwcm9maWxlIG9wZW5pZCIsCiAgICAgICAgICByZXNwb25zZV90eXBlOiAiaWRfdG9rZW4gcGVybWlzc2lvbiIsCiAgICAgICAgICBsb2dpbl9oaW50OiAiZW1haWwiLAogICAgICAgICAgdXhfbW9kZTogInBvcHVwIiwKICAgICAgICAgIHByb21wdDogInNlbGVjdF9hY2NvdW50IgogICAgICAgIH0sIHJlc3BvbnNlID0+IHsKICAgICAgICAgIGlmIChyZXNwb25zZS5lcnJvcikgewogICAgICAgICAgICAvLyBBbiBlcnJvciBoYXBwZW5lZCEKICAgICAgICAgICAgcmV0dXJuICJlcnJvciI7CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5nZXRMb2dnZWRJblVzZXIoKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAoKICAgIGdldExvZ2dlZEluVXNlcigpIHsKICAgICAgY29uc3QgZ2FwaSA9IHdpbmRvdy5nYXBpOwogICAgICBnYXBpLmxvYWQoImF1dGgyIiwgKCkgPT4gewogICAgICAgIGdhcGkuYXV0aDIuaW5pdCgpLnRoZW4oKCkgPT4gewogICAgICAgICAgdmFyIGF1dGggPSBnYXBpLmF1dGgyLmdldEF1dGhJbnN0YW5jZSgpOyAvLyBjaGVjayBsb2dpbiBpcyB0cnVlCgogICAgICAgICAgaWYgKGF1dGguaXNTaWduZWRJbi5nZXQoKSA9PSB0cnVlKSB7CiAgICAgICAgICAgIHZhciB1c2VyID0gYXV0aC5jdXJyZW50VXNlci5nZXQoKTsgLy8gZ2V0IHVzZXIgcHJvZmlsZQoKICAgICAgICAgICAgdmFyIHByb2ZpbGUgPSB1c2VyLmdldEJhc2ljUHJvZmlsZSgpOwogICAgICAgICAgICBsZXQgdXNlcnMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJyZWdpc3Rlcl91c2VycyIpKTsKCiAgICAgICAgICAgIGlmICh1c2VycyAhPSBudWxsICYmIHVzZXJzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICBsZXQgZmluZFVzZXIgPSB1c2Vycy5maW5kSW5kZXgodXNlciA9PiB1c2VyLmVtYWlsID09IHByb2ZpbGUuZ2V0RW1haWwoKSk7CgogICAgICAgICAgICAgIGlmIChmaW5kVXNlciA9PSAtMSkgewogICAgICAgICAgICAgICAgYWxlcnQoJ0Vycm9yISBObyBhbnkgdXNlciBmb3VuZCB3aXRoIHRoaXMgZW1haWwuJyk7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgfSAvL01ha2UgdXNlciBzaWduIGluCgoKICAgICAgICAgICAgICB2YXIgc29jaWFsVXNlciA9IHVzZXJzLmZpbmQodXNlciA9PiB7CiAgICAgICAgICAgICAgICByZXR1cm4gdXNlci5lbWFpbCA9PT0gcHJvZmlsZS5nZXRFbWFpbCgpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgIG5hbWU6ICJob21lIgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGFsZXJ0KCdFcnJvciEgTm8gYW55IHVzZXIgZm91bmQgd2l0aCB0aGlzIGVtYWlsLicpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKCiAgICBhc3luYyBtb3VudGVkKCkgewogICAgICBhd2FpdCB0aGlzLmxvYWRGYWNlYm9va1NESyhkb2N1bWVudCwgInNjcmlwdCIsICJmYWNlYm9vay1qc3NkayIpOwogICAgICBhd2FpdCB0aGlzLmluaXRGYWNlYm9vaygpOwogICAgfQoKICB9Cn07"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"checkout\">\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col-3\">\n        </div>\n\n        <div class=\"col-6 text-left\">\n          <div class=\"card\">\n            <div class=\"card-body\">\n              <h5 class=\"card-title text-center\">Login</h5>\n              <div class=\"clearfix\"></div><br />\n\n              <form ref=\"loginForm\" action=\"\" method=\"POST\" @submit=\"login\">\n                <div class=\"form-group row mt-3\">\n                  <label for=\"email\" class=\"col-md-4 col-form-label text-md-right\">Email</label>\n\n                  <div class=\"col-md-6\">\n                      <input id=\"email\" type=\"text\" class=\"form-control\" name=\"email\" v-model=\"formdata.email\" required autocomplete=\"email\">\n                  </div>\n                </div>\n\n                <div class=\"form-group row mt-3\">\n                  <label for=\"password\" class=\"col-md-4 col-form-label text-md-right\">Password</label>\n\n                  <div class=\"col-md-6\">\n                      <input id=\"password\" type=\"password\" class=\"form-control\" name=\"password\" v-model=\"formdata.password\" required autocomplete=\"password\">\n                  </div>\n                </div>\n\n                <div class=\"col-md-12 mt-4 text-center\">\n                  <button type=\"submit\" class=\"btn btn-primary text-center\">Login</button>\n                </div>\n              </form>\n              <div class=\"clearfix\"></div><br />\n\n              <div class=\"row\">\n                <div class=\"col-auto offset-2\">\n                  <a @click=\"onGoogleSignIn\" class=\"btn btn-block btn-danger\">\n                    <b-icon-google></b-icon-google>\n                    Sign in with Google\n                  </a>\n\n                  <a\n                    @click=\"logInWithFacebook\"\n                    class=\"ml-15 btn btn-block btn-primary\"\n                  >\n                    <b-icon-facebook></b-icon-facebook>\n                    Sign in with Facebook\n                  </a>\n                </div>\n              </div>\n\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Checkout',\n  props: {\n    \n  },\n  data() {\n    return {\n      formdata: {\n        email: '',\n        password: ''\n      }\n    };\n  },\n  methods: {\n    login(e){\n      e.preventDefault() // it prevent from page reload\n\n      var _this = this;\n      var registerUsers = localStorage.getItem('register_users');\n\n      if(registerUsers != undefined || registerUsers != null){\n        registerUsers = JSON.parse(registerUsers);\n\n        var regUser = [];\n\n        registerUsers.map(function(value, key) {\n          if(_this.formdata.email == value.email){\n             regUser.push(value);   \n          }\n        });\n\n        if(regUser.length > 0){\n          if(this.formdata.password == regUser[0].password){\n            this.$refs.loginForm.reset();\n\n            alert('Success! User logged in.');\n          }\n          else{\n            alert('Password do not match with user in our records.');\n          }\n        }\n        else{\n          alert(\"We does't find any user with this email in our records.\");\n        }\n      }else{\n        alert(\"We does't find any user with this email in our records.\");\n      }\n    },\n    async logInWithFacebook() {\n      window.FB.login(\n        (response) => {\n          if (response.authResponse) {\n            window.FB.api(\n              \"/me\",\n              { locale: \"en_US\", fields: \"id,name, email\" },\n              (response) => {\n                let users = JSON.parse(localStorage.getItem(\"register_users\"));\n\n                if (users != null && users.length > 0) {\n                  let findUser = users.findIndex(\n                    (user) => user.email == response.email\n                  );\n\n                  if (findUser == -1) {\n                    alert('Error! No any user found with this email.');\n                    return false;\n                  } else {\n                    var socialUser = users.find((user) => {\n                      return user.email === response.email;\n                    });\n                    this.createLoginUser(socialUser);\n                    this.errors.email = \"\";\n                    this.$router.push({ name: \"home\" });\n                  }\n                } else {\n                  alert('Error! No any user found with this email.');\n                  return false;\n                }\n\n                let newUser = {\n                  id: this.$uuid.v1(),\n                  name: response.name,\n                  email: response.email,\n                  password: response.id,\n                };\n\n                this.registerUser(newUser);\n              }\n            );\n          } else {\n            alert('Error! User cancelled login or did not fully authorize.');\n            return false;\n          }\n        },\n        { scope: \"email\" }\n      );\n      return false;\n    },\n    onSignIn(user) {\n      const profile = user.getBasicProfile();\n    },\n    validation() {\n      let users = JSON.parse(localStorage.getItem(\"register_users\"));\n\n      if (users != null && users.length > 0) {\n        let findUser = users.findIndex(\n          (user) => user.email == this.email && this.password == user.password\n        );\n\n        if (findUser == -1) {\n          alert('Error! Email or password is invalid.');\n\n          return false;\n        } else {\n          var user = users.find((user) => {\n            return user.email === this.email;\n          });\n          return true;\n        }\n      }\n\n      alert('Error! Email or password is invalid.');\n      return false;\n    },\n    async initFacebook() {\n      window.fbAsyncInit = function () {\n        window.FB.init({\n          appId: \"729711241341340\", //You will need to change this\n          cookie: true, // This is important, it's not enabled by default\n          xfbml: true, // parse XFBML\n          oauth: true,\n        });\n      };\n    },\n    async loadFacebookSDK(d, s, id) {\n      var js,\n        fjs = d.getElementsByTagName(s)[0];\n      if (d.getElementById(id)) {\n        return;\n      }\n      js = d.createElement(s);\n      js.id = id;\n      js.src = \"https://connect.facebook.net/en_US/sdk.js\";\n      fjs.parentNode.insertBefore(js, fjs);\n    },\n    onGoogleSignIn() {\n      const gapi = window.gapi;\n\n      gapi.load(\"auth2\", () => {\n        gapi.auth2.authorize(\n          {\n            client_id:\n              \"715709340166-ga646gel28qdsk8uqckt349jfl3h6qm1.apps.googleusercontent.com\",\n            scope: \"email profile openid\",\n            response_type: \"id_token permission\",\n            login_hint: \"email\",\n            ux_mode: \"popup\",\n            prompt: \"select_account\",\n          },\n          (response) => {\n            if (response.error) {\n              // An error happened!\n              return \"error\";\n            }\n            this.getLoggedInUser();\n          }\n        );\n      });\n    },\n    getLoggedInUser() {\n      const gapi = window.gapi;\n\n      gapi.load(\"auth2\", () => {\n        gapi.auth2.init().then(() => {\n          var auth = gapi.auth2.getAuthInstance();\n          // check login is true\n          if (auth.isSignedIn.get() == true) {\n            var user = auth.currentUser.get();\n            // get user profile\n            var profile = user.getBasicProfile();\n\n            let users = JSON.parse(localStorage.getItem(\"register_users\"));\n\n            if (users != null && users.length > 0) {\n              let findUser = users.findIndex(\n                (user) => user.email == profile.getEmail()\n              );\n\n              if (findUser == -1) {\n                alert('Error! No any user found with this email.');\n                return false;\n              }\n\n              //Make user sign in\n              var socialUser = users.find((user) => {\n                return user.email === profile.getEmail();\n              });\n              \n              this.$router.push({ name: \"home\" });\n            } else {\n              alert('Error! No any user found with this email.');\n            }\n          }\n        });\n      });\n    },\n    async mounted() {\n      await this.loadFacebookSDK(document, \"script\", \"facebook-jssdk\");\n      await this.initFacebook();\n    },\n  },\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.text-right{\n  text-align: right !important;\n}\n\n.text-left{\n  text-align: left !important;\n}\n\n.text-center{\n  text-align: center !important;\n}\n\n.form-control {\n    border-radius: 1px;\n}\n\n.ml-15 {\n    margin-left: 15px;\n}\n\n</style>\n"],"sourceRoot":"src/views"}]}